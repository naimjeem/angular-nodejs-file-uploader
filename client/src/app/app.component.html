<div class="card">
  <mat-card style="width: 50vw; margin: auto; padding: 20px;">
    <h2>Cloud Uploader</h2>
    <div class="drop-zone" (click)="fileSelect.click()" (drop)="dropHandler($event)" (dragover)="dragOverHandler($event)">
      <i class="material-icons">cloud_upload</i>
      <p>
        <span>Drag & Drop</span> or Browse Files 
      </p>
    </div>
    <div *ngFor="let file of selectedFiles" class="file-list">
      <small [style.color]="file.uploadCompleted ? 'royalblue' : 'darkgray'"> 
        <i class="material-icons">insert_drive_file</i>
        <strong>{{file.fileName | slice:0:30}}</strong>
      </small>
      <mat-progress-bar mode="determinate" [value]="file?.uploadPercent"></mat-progress-bar>
      <br>
      <small>{{file?.uploadPercent}}%</small>
      <button mat-flat-button (click)="deleteFile(file)">
        <i class="material-icons" [style.color]="file.uploadCompleted ? 'royalblue' : 'darkgray'">{{file.uploadCompleted ? 'check' : 'close'}}</i>
      </button>
    </div>
    <div style="text-align: center;">
      <input type="file" hidden #fileSelect name="largeFile" (change)="onFileSelect($event)" multiple />
      <button mat-raised-button *ngIf="selectedFiles" color="primary" (click)="uploadFiles()">Upload to Server</button>
    </div>
  </mat-card>
</div>